<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>untitled</title>
	
  <script src="js/jquery-1.2.6.min.js" type="text/javascript"></script>
  <script src="js/jquery.jeditable.js" type="text/javascript"></script>

  <script type="text/javascript" charset="utf-8">
  $(function() {
    $('.edit').editable(function(value, settings) { return(value) }, { 
      tooltip   : "Move mouseover to edit...",
      event     : "mouseover",
      style     : "inherit",
      type      : "blank",
      submit    : "OK"
    });
  });
  $.editable.addInputType("blank", {
    element : function(settings, original) {       
        var hourselect = $('<select id="hour_">');
        var minselect  = $('<select id="min_">');

        /* Hour loop */
        for (var hour=1; hour <= 24; hour++) {
            if (hour < 10) {
                hour = '0' + hour;
            }
            var option = $('<option>').val(hour).append(hour);
            hourselect.append(option);
        }
        $(this).append(hourselect);

        /* Minutes loop */
        for (var min=0; min <= 45; min = parseInt(min)+15) {
            if (min < 10) {
                min = '0' + min;
            }
            var option = $('<option>').val(min).append(min);
            minselect.append(option);
        }
        $(this).append(minselect);

        /* Hidden input to store value which is submitted to server. */
        var hidden = $('<input type="hidden">');
        $(this).append(hidden);
        return(hidden);
    },
    submit: function (settings, original) {
        var value = $("#hour_").val() + ":" + $("#min_").val();
        $("input", this).val(value);
    },
    content : function(string, settings, original) {
        var hour = parseInt(string.substr(0,2));
        var min  = parseInt(string.substr(3,2));

        $("#hour_", this).children().each(function() {
            if (hour == $(this).val()) {
                $(this).attr('selected', 'selected');
            }
        });
        $("#min_", this).children().each(function() {
            if (min == $(this).val()) {
                $(this).attr('selected', 'selected')
            }
        });
    }
  });
  </script>

</head>

<body>
  <p>Wir sind <span class="edit">______</span> Personen<br>
    und haben lust, ___ (heute (sofort | abend), morgen, am wochenende)<br>
    in der region (autodetect: bla) etwas zu unternehmen<br>
    das wetter ist (autodetect: schön | regnerisch | kalt | schnee)<br>
    wir möchten dafür ___ franken investieren<br>
    und haben (viel (den ganzen tag | mehrere tage) | wenig (1h, 2h, 3h)) zeit
  </p>
  
  <p>
    <strong>&rArr; 3001 Vorschläge</strong> … (updated sich automatisch)
  </p>

  <hr/>
  
  <ul>
    <li>Ja, das machen wir!</li>
    <li>Nein, da hab ich im Moment keinen Bock drauf</li>
    <li>Nein, das haben wir schon gemacht.</li>
    <li>Nein, das gefällt mir gar nicht.</li>
  </ul>
</body>
</html>
